# 用户指南：存储系统

## 概述

系统会自动保存您的对话历史、命令和任务。所有数据都本地存储在您的项目目录中。

## 自动保存的内容

- **对话历史** - 您与AI的所有聊天记录
- **命令历史** - 您输入的命令
- **TODO任务** - 您的任务列表
- **会话数据** - 不同对话的独立会话

## 存储位置

所有数据都保存在您的项目文件夹中：

```
您的项目/
└── .mini-cc/                      # 存储文件夹
    ├── messages/                  # 聊天历史
    ├── history.json               # 您的命令
    └── todos-simple.json          # 您的任务
```

## 对话历史

### 自动保存
- 每个对话都会自动保存
- 每个会话都有唯一ID
- 包含日期、时间和您的工作目录信息

### 文件命名
聊天记录保存为：`2025-01-27T12-00-00-000Z.json`

### 历史管理
您的对话会按时间自动整理，最近的会话排在最前面。

## 命令历史

### 保存内容
- 您输入的每个命令都会被记住
- 重复的连续命令不会重复保存
- 最多保存100个命令

### 存储文件
您的命令历史保存在：`.mini-cc/history.json`

### 使用历史
当您浏览历史记录时，系统会自动调出您最近的命令。

## TODO任务

### 您可以做什么
- 创建任务，状态包括：待处理、进行中、已完成
- 最多同时存在20个任务
- 只能有一个任务处于"进行中"状态

### 存储文件
您的任务保存在：`.mini-cc/todos-simple.json`

### 任务操作
使用TODO工具可以：
- 添加新任务
- 更新任务状态
- 标记任务为完成
- 清空所有任务

### 状态显示
- ☐ 待处理任务
- 🔄 进行中（一次只能有一个）
- ☑ 已完成任务

## 数据维护

### 备份数据
```bash
# 复制存储文件夹
cp -r .mini-cc .mini-cc.backup
```

### 清空存储
```bash
# 删除所有保存的数据（请谨慎使用）
rm -rf .mini-cc
```

### 释放空间
旧的对话会自动管理。如果需要释放空间，您可以手动删除旧的聊天文件。

## 隐私保护

- 所有数据都保存在您本地的项目中
- 没有数据发送到外部服务器
- 存储仅在您的项目文件夹中
- 会话ID是匿名的随机生成

## 故障排除

### 存储不工作
**解决方案**：检查您在项目文件夹中是否有写入权限

### 对话丢失
**解决方案**：检查 `.mini-cc/messages/` 文件夹中的聊天文件

### 任务不保存
**解决方案**：确保磁盘空间充足且您有写入权限

### 找不到历史记录
**解决方案**：在项目根目录中查找 `.mini-cc/history.json`

## 最佳实践

1. **定期备份**：定期复制 `.mini-cc` 文件夹
2. **监控空间**：如果对话很多，请检查文件夹大小
3. **项目组织**：每个项目都有自己独立的存储空间

## 文件位置总结

| 数据类型 | 位置 | 文件/文件夹 |
|----------|------|-------------|
| 聊天历史 | `.mini-cc/messages/` | 按日期命名的JSON文件 |
| 命令 | `.mini-cc/` | `history.json` |
| 任务 | `.mini-cc/` | `todos-simple.json` |

## 获取帮助

如果您遇到问题：
1. 检查文件夹权限
2. 确认 `.mini-cc/` 中存在文件
3. 重启应用程序
4. 如果问题持续，请联系支持

请记住：您的数据始终本地存储，由您自己掌控。